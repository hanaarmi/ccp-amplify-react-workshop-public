<!DOCTYPE html>
<html lang="ko" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.85.0" />
    <meta name="description" content="">
<meta name="author" content="Jungkon Kim">

    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>6. API Gateway 와 Lambda 를 추가하여 Federation Token 가져오기 :: </title>

    
    <link href="/css/nucleus.css?1636617871" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1636617871" rel="stylesheet">
    <link href="/css/hybrid.css?1636617871" rel="stylesheet">
    <link href="/css/featherlight.min.css?1636617871" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1636617871" rel="stylesheet">
    <link href="/css/auto-complete.css?1636617871" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1636617871" rel="stylesheet">
    <link href="/css/theme.css?1636617871" rel="stylesheet">
    <link href="/css/hugo-theme.css?1636617871" rel="stylesheet">
    
      <link href="/css/theme-aws.css?1636617871" rel="stylesheet">
    

    <script src="/js/jquery-3.3.1.min.js?1636617871"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/6.addrestapi/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="/">
	<img src="/images/logo.png" height="70px" />
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1636617871"></script>
<script type="text/javascript" src="/js/auto-complete.js?1636617871"></script>
<script type="text/javascript">
    
        var baseurl = "";
    
</script>
<script type="text/javascript" src="/js/search.js?1636617871"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/1.amplify/" title="1. Amplify 로 React App 구성" class="dd-item 
        
        
        
        ">
      <a href="/1.amplify/">
          1. Amplify 로 React App 구성
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/2.connect/" title="2. Amazon Connect 인스턴스 생성" class="dd-item 
        
        
        
        ">
      <a href="/2.connect/">
          2. Amazon Connect 인스턴스 생성
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/3.ccp/" title="3. CCP 구성" class="dd-item 
        
        
        
        ">
      <a href="/3.ccp/">
          3. CCP 구성
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/4.cognito/" title="4. Cognito 로 로그인/로그아웃 구현하기" class="dd-item 
        
        
        
        ">
      <a href="/4.cognito/">
          4. Cognito 로 로그인/로그아웃 구현하기
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/5.iam/" title="5. IAM 서비스에서 Role 설정하기" class="dd-item 
        
        
        
        ">
      <a href="/5.iam/">
          5. IAM 서비스에서 Role 설정하기
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/6.addrestapi/" title="6. API Gateway 와 Lambda 를 추가하여 Federation Token 가져오기" class="dd-item 
        parent
        active
        
        ">
      <a href="/6.addrestapi/">
          6. API Gateway 와 Lambda 를 추가하여 Federation Token 가져오기
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/7.attribute/" title="7. Contact Flow 에서 설정한 Attribute 값 가져오기" class="dd-item 
        
        
        
        ">
      <a href="/7.attribute/">
          7. Contact Flow 에서 설정한 Attribute 값 가져오기
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/8.customerprofiles/" title="8. Customer Profiles 기능 추가하기" class="dd-item 
        
        
        
        ">
      <a href="/8.customerprofiles/">
          8. Customer Profiles 기능 추가하기
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3></h3>
        <ul>
          
              <li> 
                  <a class="padding" href="/credits/"><i class='fas fa-fw fa-bullhorn'></i> Credits</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
      
      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> </a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      © 2021 Amazon Web Services, Inc. or its Affiliates. All rights reserved.

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            <a href='/'>Amplify 로 React 기반 Amazon Connect CCP 구성하고, Cognito 로 SAML 기반 로그인 통합하기</a> > 6. API Gateway 와 Lambda 를 추가하여 Federation Token 가져오기
          
         
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#amplify-add-api">Amplify Add API</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              6. API Gateway 와 Lambda 를 추가하여 Federation Token 가져오기
            </h1>
          

        




	<p><img src="images/amplifyccparchi.png" alt=""></p>
<h3 id="amplify-add-api">Amplify Add API</h3>
<blockquote>
<p><strong>Amplify Framework는 REST 및 GraphQL 엔드포인트에 HTTP 요청을 만드는 솔루션을 제공합니다. Amazon Connect 서비스와 연동하여 Federation Token 을 발급받고, 이 Token 을 브라우저에 저장하여 CCP 인증을 해야합니다. 이때, Federation Token 은 브라우저에서 보안 문제상 CORS 오류로 직접 가져올 수 없습니다. 반드시 Lambda 를 통해 발급받아야합니다. 따라서 Amplify Framework 의 REST API 기능을 사용하여, API Gateway, Lambda 인프라를 추가하는 실습을 진행합니다.</strong></p>
</blockquote>
<ol>
<li>프로젝트 루트 디렉토리에서 다음 커멘드를 실행합니다.</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">amplify add api
</code></pre></div><ol start="2">
<li>실행 후 아래와 같이 선택합니다. (? 질문: 이후 답변 참조)</li>
</ol>


<pre>
? Please select from one of the below mentioned services: <b style="color:DarkTurquoise">REST</b>
? Provide a friendly name for your resource to be used as a label for this category in the project: <b style="color:DarkTurquoise">ccplogin</b>
? Provide a path (e.g., /book/{isbn}): <b style="color:DarkTurquoise">/ccp/login/{userid}</b>
? Choose a Lambda source: <b style="color:DarkTurquoise">Create a new Lambda function</b>
? Provide an AWS Lambda function name: <b style="color:DarkTurquoise">ccplogin</b>
? Choose the runtime that you want to use: <b style="color:DarkTurquoise">NodeJS</b>
? Choose the function template that you want to use: <b style="color:DarkTurquoise">Serverless ExpressJS function (Integration with API Gateway)</b>

Available advanced settings:

-   Resource access permissions
-   Scheduled recurring invocation
-   Lambda layers configuration
-   Environment variables configuration
-   Secret values configuration

? Do you want to configure advanced settings? <b style="color:DarkTurquoise">No</b>
? Do you want to edit the local lambda function now? <b style="color:DarkTurquoise">Yes</b>
? Choose your default editor: <b style="color:DarkTurquoise">Visual Studio Code [원하는 Editor 선택 가능]</b> 
Edit the file in your editor: /Users/jungkon/Project/ccp-amplify-react-demo/amplify/backend/function/ccplogin/src/app.js [Lambda Function 작성]
? Press enter to continue
Successfully added resource ccplogin locally.

Next steps:
Check out sample function code generated in <project-dir>/amplify/backend/function/ccplogin/src
"amplify function build" builds all of your functions currently in the project
"amplify mock function <functionName>" runs your function locally
"amplify push" builds all of your local backend resources and provisions them in the cloud
"amplify publish" builds all of your local backend and front-end resources (if you added hosting category) and provisions them in the cloud
Succesfully added the Lambda function locally
? Restrict API access <b style="color:DarkTurquoise">Yes</b>
? Who should have access? <b style="color:DarkTurquoise">Authenticated users only</b>
? What kind of access do you want for Authenticated users? <b style="color:DarkTurquoise">create, read, update, delete</b>
? Do you want to add another path? <b style="color:DarkTurquoise">No</b>
Successfully added resource ccplogin locally

Some next steps:
"amplify push" will build all your local backend resources and provision it in the cloud
"amplify publish" will build all your local backend and frontend resources (if you have hosting category added) and provision it in the cloud
</pre>



<ol start="3">
<li>위 2번을 수행하던 중 선택한 Editor 로 Lambda Fuction 을 작성할 수 있습니다. 만약, Editor 가 자동으로 해당 파일을 열지 않았다면, 위 출력 결과를 기준으로 [프로젝트 루트 디렉토리]/<code>amplify/backend/function/ccplogin/src/app.js</code> 를 아래와 같이 수정합니다. 또한, 아래 소스코드 중 [Connect 인스턴스 ID] 로 표기된 부분은 실제 설치한 Connect 인스턴스 ID로 대체합니다.</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">/*
</span><span style="color:#75715e">Copyright 2017 - 2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.
</span><span style="color:#75715e">Licensed under the Apache License, Version 2.0 (the &#34;License&#34;). You may not use this file except in compliance with the License. A copy of the License is located at
</span><span style="color:#75715e">    http://aws.amazon.com/apache2.0/
</span><span style="color:#75715e">or in the &#34;license&#34; file accompanying this file. This file is distributed on an &#34;AS IS&#34; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
</span><span style="color:#75715e">See the License for the specific language governing permissions and limitations under the License.
</span><span style="color:#75715e">*/</span>

<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">express</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;express&#39;</span>)
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">bodyParser</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;body-parser&#39;</span>)
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">awsServerlessExpressMiddleware</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;aws-serverless-express/middleware&#39;</span>)

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">STSClient</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;aws-sdk/clients/sts&#39;</span>)
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">ConnectClient</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;aws-sdk/clients/connect&#39;</span>)

<span style="color:#75715e">// declare a new express app
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">app</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">express</span>()
<span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">bodyParser</span>.<span style="color:#a6e22e">json</span>())
<span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">awsServerlessExpressMiddleware</span>.<span style="color:#a6e22e">eventContext</span>())

<span style="color:#75715e">// Enable CORS for all methods
</span><span style="color:#75715e"></span><span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">use</span>(<span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>, <span style="color:#a6e22e">next</span>) {
	<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">header</span>(<span style="color:#e6db74">&#39;Access-Control-Allow-Origin&#39;</span>, <span style="color:#e6db74">&#39;*&#39;</span>)
	<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">header</span>(<span style="color:#e6db74">&#39;Access-Control-Allow-Headers&#39;</span>, <span style="color:#e6db74">&#39;*&#39;</span>)
	<span style="color:#a6e22e">next</span>()
})

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">utilfunc</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">async</span> (<span style="color:#a6e22e">email</span>) =&gt; {
	<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">STS</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">STSClient</span>()

	<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">instanceId</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;[Connect 인스턴스 ID]&#39;</span>

	<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">roleParams</span> <span style="color:#f92672">=</span> {
		<span style="color:#a6e22e">RoleArn</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;arn:aws:iam::[Connect 인스턴스 ID]:role/CCPLogin&#39;</span>,
		<span style="color:#a6e22e">RoleSessionName</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">email</span>,
		<span style="color:#a6e22e">DurationSeconds</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">900</span>,
	}

	<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">stsResult</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">STS</span>.<span style="color:#a6e22e">assumeRole</span>(<span style="color:#a6e22e">roleParams</span>)
		.<span style="color:#a6e22e">promise</span>()
		.<span style="color:#66d9ef">catch</span>((<span style="color:#a6e22e">error</span>) =&gt; {
			<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">error</span>)
		})

	<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">stsResult</span>)

	<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">accessParams</span> <span style="color:#f92672">=</span> {
		<span style="color:#a6e22e">accessKeyId</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">stsResult</span>.<span style="color:#a6e22e">Credentials</span>.<span style="color:#a6e22e">AccessKeyId</span>,
		<span style="color:#a6e22e">secretAccessKey</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">stsResult</span>.<span style="color:#a6e22e">Credentials</span>.<span style="color:#a6e22e">SecretAccessKey</span>,
		<span style="color:#a6e22e">sessionToken</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">stsResult</span>.<span style="color:#a6e22e">Credentials</span>.<span style="color:#a6e22e">SessionToken</span>,
	}

	<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">`accessParams: </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">accessParams</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>)

	<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">Connect</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">ConnectClient</span>(<span style="color:#a6e22e">accessParams</span>)
	<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">connectParams</span> <span style="color:#f92672">=</span> {
		<span style="color:#a6e22e">InstanceId</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">instanceId</span>,
	}

	<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">connectResult</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">Connect</span>.<span style="color:#a6e22e">getFederationToken</span>(<span style="color:#a6e22e">connectParams</span>)
		.<span style="color:#a6e22e">promise</span>()
		.<span style="color:#66d9ef">catch</span>((<span style="color:#a6e22e">error</span>) =&gt; {
			<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#39;CCPLogin &gt;&gt; Connect&#39;</span>, <span style="color:#a6e22e">error</span>)
		})

	<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">ccpLoginParams</span> <span style="color:#f92672">=</span> {
		<span style="color:#a6e22e">AccessToken</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">connectResult</span>.<span style="color:#a6e22e">Credentials</span>.<span style="color:#a6e22e">AccessToken</span>,
		<span style="color:#a6e22e">AccessTokenExpiration</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">new</span> Date(
			<span style="color:#a6e22e">connectResult</span>.<span style="color:#a6e22e">Credentials</span>.<span style="color:#a6e22e">AccessTokenExpiration</span>
		).<span style="color:#a6e22e">getTime</span>(),
		<span style="color:#a6e22e">RefreshToken</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">connectResult</span>.<span style="color:#a6e22e">Credentials</span>.<span style="color:#a6e22e">RefreshToken</span>,
		<span style="color:#a6e22e">RefreshTokenExpiration</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">new</span> Date(
			<span style="color:#a6e22e">connectResult</span>.<span style="color:#a6e22e">Credentials</span>.<span style="color:#a6e22e">RefreshTokenExpiration</span>
		).<span style="color:#a6e22e">getTime</span>(),
	}

	<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">`ccpLoginParams: </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">ccpLoginParams</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>)

	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">ccpLoginParams</span>
}

<span style="color:#75715e">/**********************
</span><span style="color:#75715e"> * Example get method *
</span><span style="color:#75715e"> **********************/</span>

<span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;/ccp/login/:userid&#39;</span>, <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>) {
	<span style="color:#75715e">// Add your code here
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">utilfunc</span>(<span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">params</span>.<span style="color:#a6e22e">userid</span>).<span style="color:#a6e22e">then</span>((<span style="color:#a6e22e">result</span>) =&gt; {
		<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">json</span>({ <span style="color:#a6e22e">success</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;ok&#39;</span>, <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">url</span>, <span style="color:#a6e22e">ccpResult</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">result</span> })
	})
})

<span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;/ccp/login/:userid/*&#39;</span>, <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>) {
	<span style="color:#75715e">// Add your code here
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">json</span>({ <span style="color:#a6e22e">success</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;get call succeed!&#39;</span>, <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">url</span> })
})

<span style="color:#75715e">/****************************
</span><span style="color:#75715e"> * Example post method *
</span><span style="color:#75715e"> ****************************/</span>

<span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">post</span>(<span style="color:#e6db74">&#39;/ccp/login/:userid&#39;</span>, <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>) {
	<span style="color:#75715e">// Add your code here
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">json</span>({ <span style="color:#a6e22e">success</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;post call succeed!&#39;</span>, <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">url</span>, <span style="color:#a6e22e">body</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">body</span> })
})

<span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">post</span>(<span style="color:#e6db74">&#39;/ccp/login/:userid/*&#39;</span>, <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>) {
	<span style="color:#75715e">// Add your code here
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">json</span>({ <span style="color:#a6e22e">success</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;post call succeed!&#39;</span>, <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">url</span>, <span style="color:#a6e22e">body</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">body</span> })
})

<span style="color:#75715e">/****************************
</span><span style="color:#75715e"> * Example put method *
</span><span style="color:#75715e"> ****************************/</span>

<span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">put</span>(<span style="color:#e6db74">&#39;/ccp/login/:userid&#39;</span>, <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>) {
	<span style="color:#75715e">// Add your code here
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">json</span>({ <span style="color:#a6e22e">success</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;put call succeed!&#39;</span>, <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">url</span>, <span style="color:#a6e22e">body</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">body</span> })
})

<span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">put</span>(<span style="color:#e6db74">&#39;/ccp/login/:userid/*&#39;</span>, <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>) {
	<span style="color:#75715e">// Add your code here
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">json</span>({ <span style="color:#a6e22e">success</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;put call succeed!&#39;</span>, <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">url</span>, <span style="color:#a6e22e">body</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">body</span> })
})

<span style="color:#75715e">/****************************
</span><span style="color:#75715e"> * Example delete method *
</span><span style="color:#75715e"> ****************************/</span>

<span style="color:#a6e22e">app</span>.<span style="color:#66d9ef">delete</span>(<span style="color:#e6db74">&#39;/ccp/login/:userid&#39;</span>, <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>) {
	<span style="color:#75715e">// Add your code here
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">json</span>({ <span style="color:#a6e22e">success</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;delete call succeed!&#39;</span>, <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">url</span> })
})

<span style="color:#a6e22e">app</span>.<span style="color:#66d9ef">delete</span>(<span style="color:#e6db74">&#39;/ccp/login/:userid/*&#39;</span>, <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>) {
	<span style="color:#75715e">// Add your code here
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">json</span>({ <span style="color:#a6e22e">success</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;delete call succeed!&#39;</span>, <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">url</span> })
})

<span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">listen</span>(<span style="color:#ae81ff">3000</span>, <span style="color:#66d9ef">function</span> () {
	<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;App started&#39;</span>)
})

<span style="color:#75715e">// Export the app object. When executing the application local this does nothing. However,
</span><span style="color:#75715e">// to port it to AWS Lambda we will create a wrapper around that will load the app from
</span><span style="color:#75715e">// this file
</span><span style="color:#75715e"></span><span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">app</span>
</code></pre></div><ol start="4">
<li>프로젝트 루트 디렉토리에서 아래 커멘드를 실행합니다. 완료하려면 수분동안 기다려야합니다.</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">amplify push
</code></pre></div><ol start="5">
<li>모두 완료되면 아래 커멘드로 현재 amplify 에 추가된 기능을 확인할 수 있습니다.</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">amplify status
</code></pre></div><p>아래와 같이 Function, Auth, Api 가 아래와 같이 추가되어있으면 정상입니다.</p>


<pre>
❯ amplify status

    Current Environment: dev

┌──────────┬─────────────────┬───────────┬───────────────────┐
│ Category │ Resource name   │ Operation │ Provider plugin   │
├──────────┼─────────────────┼───────────┼───────────────────┤
│ Function │ ccplogin        │ No Change │ awscloudformation │
├──────────┼─────────────────┼───────────┼───────────────────┤
│ Auth     │ ccpdemo1b104119 │ No Change │ awscloudformation │
├──────────┼─────────────────┼───────────┼───────────────────┤
│ Api      │ ccplogin        │ No Change │ awscloudformation │
└──────────┴─────────────────┴───────────┴───────────────────┘

REST API endpoint: https://2vlz9asdz0.execute-api.us-east-1.amazonaws.com/dev

</pre>



<ol start="6">
<li>아래 커멘드로 Console 에 연결하여 Lambda 함수가 제대로 반영되었는지 확인합니다.</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">amplify console <span style="color:#66d9ef">function</span>
</code></pre></div>

<pre>
? Please select from one of the below mentioned services: <b style="color:DarkTurquoise">Lambda function (serverless function)</b>
</pre>



<p><img src="images/01.png" alt=""></p>
<ol start="7">
<li>아래 화면과 같이 Role 을 수정합니다.</li>
</ol>
<p><img src="images/02.png" alt=""></p>
<p><img src="images/03.png" alt=""></p>
<ol start="8">
<li>src/component/ccp.component.jsx 를 아래와 같이 수정합니다.</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-react" data-lang="react"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">React</span>, { <span style="color:#a6e22e">Component</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;react&#39;</span>
<span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">Auth</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;aws-amplify&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#e6db74">&#39;amazon-connect-streams&#39;</span>
<span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">ccpAuthLogin</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;./ccp.util&#39;</span>

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CCP</span> <span style="color:#66d9ef">extends</span> <span style="color:#a6e22e">Component</span> {
	<span style="color:#a6e22e">constructor</span>(<span style="color:#a6e22e">props</span>) {
		<span style="color:#66d9ef">super</span>(<span style="color:#a6e22e">props</span>)
		<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">ccp</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">React</span>.<span style="color:#a6e22e">createRef</span>()
		<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">loginFrm</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">React</span>.<span style="color:#a6e22e">createRef</span>()
		<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">state</span> <span style="color:#f92672">=</span> {
			<span style="color:#a6e22e">credentials</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>,
		}
	}

	<span style="color:#66d9ef">async</span> <span style="color:#a6e22e">componentDidMount</span>() {
		<span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">attributes</span> } <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">Auth</span>.<span style="color:#a6e22e">currentAuthenticatedUser</span>()
		<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">attributes</span>.<span style="color:#a6e22e">email</span>)
		<span style="color:#a6e22e">ccpAuthLogin</span>(<span style="color:#a6e22e">attributes</span>.<span style="color:#a6e22e">email</span>).<span style="color:#a6e22e">then</span>((<span style="color:#a6e22e">result</span>) =&gt; {
			<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">result</span>.<span style="color:#a6e22e">ccpResult</span>)
			<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">setState</span>({ <span style="color:#a6e22e">credentials</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">result</span>.<span style="color:#a6e22e">ccpResult</span>) })
			<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">loginFrm</span>.<span style="color:#a6e22e">current</span>.<span style="color:#a6e22e">submit</span>()

            window.<span style="color:#a6e22e">connect</span>.<span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">initCCP</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">ccp</span>.<span style="color:#a6e22e">current</span>, {
                <span style="color:#a6e22e">ccpUrl</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;https://gonconnecttest.my.connect.aws/ccp-v2&#39;</span>,
                <span style="color:#a6e22e">loginPopup</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>,
                <span style="color:#a6e22e">region</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;us-east-1&#39;</span>,
                <span style="color:#a6e22e">softphone</span><span style="color:#f92672">:</span> {
                    <span style="color:#a6e22e">allowFramedSoftphone</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>,
                    <span style="color:#a6e22e">disableRingtone</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>,
                },
            })
            <span style="color:#75715e">//}
</span><span style="color:#75715e"></span>		})
	}

	<span style="color:#a6e22e">componentWillUnmount</span>() {
		window.<span style="color:#a6e22e">connect</span>.<span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">terminate</span>()
		<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">iframe</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">ccp</span>.<span style="color:#a6e22e">current</span>.<span style="color:#a6e22e">firstElementChild</span>
		<span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">iframe</span>) {
			<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">ccp</span>.<span style="color:#a6e22e">current</span>.<span style="color:#a6e22e">removeChild</span>(<span style="color:#a6e22e">iframe</span>)
		}
	}

	<span style="color:#a6e22e">render</span>() {
		<span style="color:#66d9ef">return</span> (
			&lt;<span style="color:#f92672">div</span>
				<span style="color:#a6e22e">className</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ccp-container&#34;</span>
				<span style="color:#a6e22e">style</span><span style="color:#f92672">=</span>{{ <span style="color:#a6e22e">height</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;800px&#39;</span>, <span style="color:#a6e22e">border</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;2px solid&#39;</span> }}
			&gt;
				&lt;<span style="color:#f92672">div</span>
					<span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ccp&#34;</span>
					<span style="color:#a6e22e">className</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ccp&#34;</span>
					<span style="color:#a6e22e">ref</span><span style="color:#f92672">=</span>{<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">ccp</span>}
					<span style="color:#a6e22e">style</span><span style="color:#f92672">=</span>{{ <span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;100%&#39;</span>, <span style="color:#a6e22e">height</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;100%&#39;</span> }}
				/&gt;
				&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;hidden_iframe_div&#34;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span>{{ <span style="color:#a6e22e">visibility</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;hidden&#39;</span> }}&gt;
					&lt;<span style="color:#f92672">iframe</span>
						<span style="color:#a6e22e">title</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;hiddenframe&#34;</span>
						<span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>
						<span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;hidden_iframe&#34;</span>
						<span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;hidden_iframe&#34;</span>
						<span style="color:#a6e22e">frameBorder</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0&#34;</span>
						<span style="color:#a6e22e">style</span><span style="color:#f92672">=</span>{{ <span style="color:#a6e22e">visibility</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;hidden&#39;</span> }}
					&gt;&lt;/<span style="color:#f92672">iframe</span>&gt;
				&lt;/<span style="color:#f92672">div</span>&gt;
				&lt;<span style="color:#f92672">div</span>
					<span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;loginFrm_div&#34;</span>
					<span style="color:#a6e22e">style</span><span style="color:#f92672">=</span>{{ <span style="color:#a6e22e">visibility</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;hidden&#39;</span>, <span style="color:#a6e22e">textAlign</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;left&#39;</span> }}
				&gt;
					&lt;<span style="color:#f92672">form</span>
						<span style="color:#a6e22e">ref</span><span style="color:#f92672">=</span>{<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">loginFrm</span>}
						<span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;loginFrm&#34;</span>
						<span style="color:#a6e22e">method</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;POST&#34;</span>
						<span style="color:#a6e22e">target</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;hidden_iframe&#34;</span>
						<span style="color:#a6e22e">action</span><span style="color:#f92672">=</span>{
							<span style="color:#e6db74">&#39;https://gonconnecttest.my.connect.aws/auth/sign-in&#39;</span>
						}
					&gt;
						&lt;<span style="color:#f92672">label</span> <span style="color:#a6e22e">htmlFor</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;credentials&#34;</span>&gt;<span style="color:#a6e22e">Credentials</span><span style="color:#f92672">:</span>&lt;/<span style="color:#f92672">label</span>&gt;
						&lt;<span style="color:#f92672">input</span>
							<span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text&#34;</span>
							<span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;credentials&#34;</span>
							<span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;credentials&#34;</span>
							<span style="color:#a6e22e">value</span><span style="color:#f92672">=</span>{<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">state</span>.<span style="color:#a6e22e">credentials</span>}
							<span style="color:#a6e22e">onChange</span><span style="color:#f92672">=</span>{(<span style="color:#a6e22e">e</span>) =&gt; {
								<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">setState</span>({ <span style="color:#a6e22e">credentials</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">target</span>.<span style="color:#a6e22e">value</span> })
							}}
						/&gt;
					&lt;/<span style="color:#f92672">form</span>&gt;
				&lt;/<span style="color:#f92672">div</span>&gt;
			&lt;/<span style="color:#f92672">div</span>&gt;
		)
	}
}

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#a6e22e">CCP</span>
</code></pre></div><ol start="9">
<li>src/component/ccp.util.js 파일을 추가하고 아래와 같이 소스코드를 입력합니다.</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-react" data-lang="react"><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">API</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;aws-amplify&#39;</span>

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">ccpAuthLogin</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">async</span> (<span style="color:#a6e22e">email</span>) =&gt; {
	<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">apiName</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;ccplogin&#39;</span>
	<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">path</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`/ccp/login/</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">email</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>

	<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">result</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">API</span>.<span style="color:#a6e22e">get</span>(<span style="color:#a6e22e">apiName</span>, <span style="color:#a6e22e">path</span>)
	<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">result</span>)

	<span style="color:#66d9ef">return</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">result</span>
}

</code></pre></div><ol start="10">
<li><code>npm start</code> 실행하여 테스트 합니다. 개인 정보 보호 브라우저 모드에서 http://localhost:3000 으로 접속하여, Cognito 계정으로 로그인 한 이후, CCP 가 아래와 같이 나타나면 정상입니다.</li>
</ol>
<p><img src="images/04.png" alt=""></p>





<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/5.iam/" title="5. IAM 서비스에서 Role 설정하기"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/7.attribute/" title="7. Contact Flow 에서 설정한 Attribute 값 가져오기" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1636617871"></script>
    <script src="/js/perfect-scrollbar.min.js?1636617871"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1636617871"></script>
    <script src="/js/jquery.sticky.js?1636617871"></script>
    <script src="/js/featherlight.min.js?1636617871"></script>
    <script src="/js/highlight.pack.js?1636617871"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1636617871"></script>
    <script src="/js/learn.js?1636617871"></script>
    <script src="/js/hugo-learn.js?1636617871"></script>

    <link href="/mermaid/mermaid.css?1636617871" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1636617871"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    
  </body>
</html>
