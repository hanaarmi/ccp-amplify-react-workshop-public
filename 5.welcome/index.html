<!DOCTYPE html>
<html lang="ko" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.85.0" />
    <meta name="description" content="Workshop for learning basics of amazon connect">
<meta name="author" content="Jungkon Kim">

    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>5. Welcome 메시지 :: </title>

    
    <link href="/css/nucleus.css?1631051437" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1631051437" rel="stylesheet">
    <link href="/css/hybrid.css?1631051437" rel="stylesheet">
    <link href="/css/featherlight.min.css?1631051437" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1631051437" rel="stylesheet">
    <link href="/css/auto-complete.css?1631051437" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1631051437" rel="stylesheet">
    <link href="/css/theme.css?1631051437" rel="stylesheet">
    <link href="/css/hugo-theme.css?1631051437" rel="stylesheet">
    
      <link href="/css/theme-aws.css?1631051437" rel="stylesheet">
    

    <script src="/js/jquery-3.3.1.min.js?1631051437"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/5.welcome/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="/">
	<img src="/images/logo.png" height="70px" />
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1631051437"></script>
<script type="text/javascript" src="/js/auto-complete.js?1631051437"></script>
<script type="text/javascript">
    
        var baseurl = "";
    
</script>
<script type="text/javascript" src="/js/search.js?1631051437"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/0.purposes/" title="0. 목적" class="dd-item 
        
        
        
        ">
      <a href="/0.purposes/">
          0. 목적
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/1.prerequisites/" title="1. 사전 준비" class="dd-item 
        
        
        
        ">
      <a href="/1.prerequisites/">
          1. 사전 준비
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/1.prerequisites/1.account/" title="Account 만들기" class="dd-item 
        
        
        
        ">
      <a href="/1.prerequisites/1.account/">
          Account 만들기
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/1.prerequisites/2.eventengine/" title="Event Engine 사용하기" class="dd-item 
        
        
        
        ">
      <a href="/1.prerequisites/2.eventengine/">
          Event Engine 사용하기
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/1.prerequisites/3.instance/" title="Amazon Connect 인스턴스 생성" class="dd-item 
        
        
        
        ">
      <a href="/1.prerequisites/3.instance/">
          Amazon Connect 인스턴스 생성
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/1.prerequisites/4.setting/" title="기타 설정" class="dd-item 
        
        
        
        ">
      <a href="/1.prerequisites/4.setting/">
          기타 설정
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/2.globalparameters/" title="2. 전역 설정" class="dd-item 
        
        
        
        ">
      <a href="/2.globalparameters/">
          2. 전역 설정
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/3.timeoftheday/" title="3. 업무 시간 설정하기" class="dd-item 
        
        
        
        ">
      <a href="/3.timeoftheday/">
          3. 업무 시간 설정하기
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/4.customerlookup/" title="4. 고객 정보 확인" class="dd-item 
        
        
        
        ">
      <a href="/4.customerlookup/">
          4. 고객 정보 확인
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/4.customerlookup/1.iamsetting/" title="IAM 설정" class="dd-item 
        
        
        
        ">
      <a href="/4.customerlookup/1.iamsetting/">
          IAM 설정
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/4.customerlookup/2.dynamodbsetting/" title="DyanmoDB로 고객 DB 구성" class="dd-item 
        
        
        
        ">
      <a href="/4.customerlookup/2.dynamodbsetting/">
          DyanmoDB로 고객 DB 구성
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/4.customerlookup/3.lambdasetting/" title="Lambda 로 정보 가져오기" class="dd-item 
        
        
        
        ">
      <a href="/4.customerlookup/3.lambdasetting/">
          Lambda 로 정보 가져오기
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/4.customerlookup/4.contactflow/" title="Contact Flow 구성" class="dd-item 
        
        
        
        ">
      <a href="/4.customerlookup/4.contactflow/">
          Contact Flow 구성
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/5.welcome/" title="5. Welcome 메시지" class="dd-item 
        parent
        active
        
        ">
      <a href="/5.welcome/">
          5. Welcome 메시지
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/6.testdebug/" title="6. 테스트 및 트러블슈팅" class="dd-item 
        
        
        
        ">
      <a href="/6.testdebug/">
          6. 테스트 및 트러블슈팅
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/7.menu/" title="7. DTMF 선택" class="dd-item 
        
        
        
        ">
      <a href="/7.menu/">
          7. DTMF 선택
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/8.lex/" title="8. 챗봇" class="dd-item 
        
        
        
        ">
      <a href="/8.lex/">
          8. 챗봇
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/9.callback/" title="9. Callback 시나리오" class="dd-item 
        
        
        
        ">
      <a href="/9.callback/">
          9. Callback 시나리오
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/10.caseplayback/" title="10. Case Playback 시나리오" class="dd-item 
        
        
        
        ">
      <a href="/10.caseplayback/">
          10. Case Playback 시나리오
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/11.lastagentrouting/" title="11. Last Agent Routing 시나리오" class="dd-item 
        
        
        
        ">
      <a href="/11.lastagentrouting/">
          11. Last Agent Routing 시나리오
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/12.cleanup/" title="12. 인프라 정리 및 Budget 설정" class="dd-item 
        
        
        
        ">
      <a href="/12.cleanup/">
          12. 인프라 정리 및 Budget 설정
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3></h3>
        <ul>
          
              <li> 
                  <a class="padding" href="/credits/"><i class='fas fa-fw fa-bullhorn'></i> Credits</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
      
      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> </a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      © 2021 Amazon Web Services, Inc. or its Affiliates. All rights reserved.

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            <a href='/'>Amazon Connect Immersion Day</a> > 5. Welcome 메시지
          
         
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents"></nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              5. Welcome 메시지
            </h1>
          

        




	<hr>
<blockquote>
<p>이전에 저장한 고객 정보를 이용하여, 생년월일을 이용하여 고객 인증을 하고 인증된 경우 Welcome 메시지로 멘트하는 시나리오를 구성합니다.</p>
</blockquote>
<ol>
<li>
<p><strong>Contact Flows</strong> 메뉴에서 <strong>ConnectIMD5</strong> 를 선택하여 다음과 같이 편집합니다.
<img src="images/01contactflow.png" alt=""></p>
</li>
<li>
<p><strong>Play prompt</strong> Command Block 을 왼쪽 리스트 중 <strong>Interact</strong> 메뉴에서 Drag&amp;Drop 으로 편집 화면으로 가져옵니다. 아래 Text 를 복사해서 입력합니다. Save 버튼을 클릭하여 설정을 저장합니다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">Welcome to amazon connect immersion day.
</code></pre></div><p><img src="images/02playpromptwelcome.png" alt=""></p>
</li>
<li>
<p><strong>Check contact attributes</strong> Command Block 을 왼쪽 리스트 중 <strong>Branch</strong> 메뉴에서 Drag&amp;Drop 으로 편집 화면으로 가져옵니다. 위에서 새로 만든 업무 시간을 선택하여 설정합니다. Save 버튼을 클릭하여 설정을 저장합니다. 이전 장에서 저장했던 Lambda 함수의 호출 결과를 확인합니다. message 변수는 Lambda 함수에서 인입 전화의 전화번호를 Key 로 DynamoDB에 고객 정보를 가져온 경우 Success 를 리턴하며, 고객 정보가 없어 가져오지 못한 경우 Fail 을 리턴합니다. 여기에서는 고객 정보 DB에 현재 인입 전화의 고객 전화 번호에 해당하는 고객 정보를 가져왔는지 확인하는 과정입니다.
<img src="images/03checkcontactattributes.png" alt=""></p>
</li>
<li>
<p><strong>Play prompt</strong> Command Block 을 왼쪽 리스트 중 <strong>Interact</strong> 메뉴에서 Drag&amp;Drop 으로 편집 화면으로 가져옵니다. 아래 Text 를 복사해서 입력합니다. Save 버튼을 클릭하여 설정을 저장합니다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">Hello $.Attributes.firstname. Thank you for being a $.Attributes.status member.
</code></pre></div><p><img src="images/04playpromptforcustomer.png" alt=""></p>
</li>
</ol>

<div class="notices info" ><p><strong>$.Attributes.[Attribute 이름]</strong> 과 같은 형태로 Contact Flow 내에서 <strong>Set contact attributes</strong> Command Block을 이용하여 저장한 Attribute 들을 Contact Flow 내에서 참조하여 사용할 수 있습니다. 위에서는 Lambda 로 가져온 고객 정보들 중 firstname, status 항목을 참조하여 Play prompt Command Block 을 이용해서 동적으로 멘트를 재생해줍니다.</p>
</div>

<ol start="5">
<li>
<p><strong>Store customer input</strong> Command Block 을 왼쪽 리스트 중 <strong>Interact</strong> 메뉴에서 Drag&amp;Drop 으로 편집 화면으로 가져옵니다. 아래 Text 를 복사해서 입력합니다. Customer input 항목은 생년월일을 저장할 수 있도록 6자로 지정합니다. Timeout 은 적당히 5초 정도로 지정합니다. Save 버튼을 클릭하여 설정을 저장합니다. 이 항목에서는 인증을 위해 고객에게 생년월일을 DTMF로 입력하도록 요청합니다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">Can you please enter your date of birth as a six digit number. Two digits for the year. Two digits for month and two digits for the day.
</code></pre></div><p><img src="images/05storecustomerinput.png" alt=""></p>
</li>
<li>
<p><strong>Check contact attributes</strong> Command Block 을 왼쪽 리스트 중 <strong>Branch</strong> 메뉴에서 Drag&amp;Drop 으로 편집 화면으로 가져옵니다. 아래 화면과 동일하게 Type, Attribute를 설정하고, Lambda 함수를 통해 가져온 birthdate attribute 와 동일한지 체크하도록 합니다. Save 버튼을 클릭하여 설정을 저장합니다.
<img src="images/06checkcontactattributesbirthdate.png" alt=""></p>
</li>
<li>
<p><strong>Play prompt</strong> Command Block 을 왼쪽 리스트 중 <strong>Interact</strong> 메뉴에서 Drag&amp;Drop 으로 편집 화면으로 가져옵니다. 아래 Text 를 복사해서 입력합니다. Save 버튼을 클릭하여 설정을 저장합니다. 생년월일을 정확히 입력한 경우 인증된 사용자로 간주하고 아래 메시지를 멘트로 출력합니다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">Thank you.
</code></pre></div><p><img src="images/07playpromptauthenticated.png" alt=""></p>
</li>
<li>
<p><strong>Play prompt</strong> Command Block 을 왼쪽 리스트 중 <strong>Interact</strong> 메뉴에서 Drag&amp;Drop 으로 편집 화면으로 가져옵니다. 아래 Text 를 복사해서 입력합니다. Save 버튼을 클릭하여 설정을 저장합니다. 고객이 입력한 생년월일과 고객정보 DB의 데이터가 일치하지 않을 경우 아래 메시지를 멘트로 출력합니다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">Our records didn&#39;t match the number entered.
</code></pre></div><p><img src="images/08playpromptnotauth.png" alt=""></p>
</li>
<li>
<p><strong>Transfer to flow</strong> Command Block 을 왼쪽 리스트 중 <strong>Terminate / Transfer</strong> 메뉴에서 Drag&amp;Drop 으로 편집 화면으로 가져옵니다. <strong>ConnectIMD5</strong> 로 설정합니다. Save 버튼을 클릭하여 설정을 저장합니다.</p>
<p><img src="images/09transfertoflow.png" alt=""></p>
</li>
<li>
<p>모든 연결이 제대로 설정되었는지 확인하고, Save 버튼을 클릭하여 저장하고, Publish 버튼을 클릭하여 발행 합니다.</p>
</li>
</ol>
<blockquote>
<p><strong>고객의 전화번호를 통해 고객을 식별하고 DB에 저장된 고객 정보를 활용해서 인증하는 시나리오를 구축했습니다. 다음 장에서는 지금까지 구축한 시나리오를 바탕으로 실제 전화를 걸어 테스트를 해봅니다.</strong></p>
</blockquote>





<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/4.customerlookup/4.contactflow/" title="Contact Flow 구성"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/6.testdebug/" title="6. 테스트 및 트러블슈팅" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1631051437"></script>
    <script src="/js/perfect-scrollbar.min.js?1631051437"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1631051437"></script>
    <script src="/js/jquery.sticky.js?1631051437"></script>
    <script src="/js/featherlight.min.js?1631051437"></script>
    <script src="/js/highlight.pack.js?1631051437"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1631051437"></script>
    <script src="/js/learn.js?1631051437"></script>
    <script src="/js/hugo-learn.js?1631051437"></script>

    <link href="/mermaid/mermaid.css?1631051437" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1631051437"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    
  </body>
</html>
